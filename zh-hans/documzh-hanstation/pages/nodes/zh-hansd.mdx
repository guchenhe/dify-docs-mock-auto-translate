```mdx
---
title: "结束"
description: "定义工作流输出和终止点"
icon: "flag-checkered"
---

End 节点定义了工作流完成时的输出。每个工作流应用程序至少需要一个 End 节点来向用户返回结果并终止执行。

<Info>
  End 节点仅适用于工作流应用程序。对话流应用程序使用 Answer 节点来在对话流中传递响应。
</Info>

## 输出配置

End 节点从之前的工作流节点收集输出，并将它们打包成最终响应。通过使用变量选择器或 `{{variable_name}}` 语法引用上游节点的数据来配置要输出的变量。

您可以输出包括文本、数字、对象、数组和文件在内的多种类型的多个变量。每个输出变量都成为工作流最终结果结构的一部分。

## 单个与多个 End 节点

### 单路径工作流

具有一个执行路径的简单工作流只需要一个 End 节点来捕获最终结果：

<Frame caption="具有一个 End 节点的单路径工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/9e43961344d318e09af8d64464d81774.png" alt="单路径工作流示例" />
</Frame>

### 多路径工作流

具有条件分支的工作流需要为每个可能的执行路径设置 End 节点。每个分支可以根据工作流逻辑输出不同的变量：

<Frame caption="具有多个 End 节点的多路径工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/3cb3f5fea376265bede0a4ac5bcc1ddc.png" alt="多路径工作流示例" />
</Frame>

## 执行行为

一旦工作流执行到达 End 节点，处理就会立即停止。连接在 End 节点之后的节点将不再执行。这使得 End 节点成为不同工作流分支的自然终止点。

如果您的工作流有多个可能的执行路径（例如通过 If-Else 节点），请确保每个路径都通向一个 End 节点。否则，一些执行分支可能不会返回结果。

## 输出示例

**文本处理结果** - 输出处理过的文本、摘要或大型语言模型节点的分析结果。

**结构化数据** - 返回 JSON 对象、数组或从各种处理节点中提取的参数。

**文件输出** - 传递在工作流执行期间生成的文档、图像或其他文件。

**状态信息** - 包含处理元数据、成功指示或诊断信息。

<Frame caption="复杂工作流输出示例">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/a103792790447c1725c1da1176334cae.png" alt="End 节点 - 长篇故事生成示例" />
</Frame>

## 最佳实践

**一致的输出结构** - 在同一工作流的不同 End 节点中使用相似的变量名称和数据类型，以获得可预测的 API 响应。

**包含状态信息** - 考虑输出成功指示或处理元数据与主要结果一起。

**处理所有路径** - 确保工作流中的每个可能执行路径都通向一个 End 节点，以防止执行不完整。

**文档输出模式** - 清楚地记录每个 End 节点返回的内容，以便于 API 消费者和集成目的。
```