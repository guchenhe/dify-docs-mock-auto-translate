```mdx
---
title: "问题分类器"
description: "智能地对用户输入进行分类以引导工作流路径"
icon: "sitemap"
---

问题分类器节点智能地对用户输入进行分类，从而将对话引导到不同的工作流路径。与其构建复杂的条件逻辑，不如定义类别，让大型语言模型（LLM）基于语义理解来确定最合适的类别。

## 配置

### 输入和模型设置

**输入变量** - 选择要分类的内容，通常为用户问题的`sys.query`，但也可以是来自先前工作流节点的任何文本变量。

**模型选择** - 选择用于分类的LLM。对于简单类别，速度较快的模型效果很好，而更强大的模型可以更好地处理细微的区别。

<Frame caption="问题分类器配置界面">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/2f039c5ff3f095b0eed291101d9bff15.png" alt="问题分类器设置" />
</Frame>

### 类别定义

为每个类别创建明确的描述性标签，并对每个类别包含的内容进行具体描述。准确界定类别之间的界限，以帮助LLM做出准确的决策。

每个类别都成为一个潜在的输出路径，您可以将其连接到不同的下游节点，如专业知识库、响应模板或处理工作流。

## 分类示例

以下是在客户服务场景中问题分类器的工作方式：

<Frame caption="客户服务分类工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/2f06ecce149c844c23be70a8fcff09bc.png" alt="客户服务分类" />
</Frame>

**定义的类别：**
- **售后服务** - 保修索赔、退货、维修和购买后的支持
- **产品使用** - 设置说明、故障排除、功能说明  
- **其他问题** - 不属于特定类别的常规咨询

**分类结果：**
- “如何在iPhone 14上设置联系人？” → **产品使用**
- “我的购买保修期是多久？” → **售后服务**  
- “今天的天气怎么样？” → **其他问题**

每个分类结果都会引导到不同的知识库和响应策略，确保用户获得相关的专业帮助。

## 高级配置

### 指导和准则

在**指导**字段中添加详细的分类指南，以处理边缘案例、模糊场景或特定的业务规则。这有助于LLM理解类别之间的细微区别。

### 记忆集成

启用**记忆**以在分类输入时包含对话历史。这改善了多轮对话中准确性，其中当前输入依赖于先前的上下文。

**记忆窗口**控制要包含多少对话历史，在上下文感知与标记效率和处理速度之间取得平衡。

## 输出使用

分类器输出一个包含匹配类别标签的`class_name`变量。使用此变量在下游节点中进行：

**条件路由** - 根据分类结果连接不同的工作流路径

**知识库选择** - 为每个类别路由到专业知识库

**响应定制** - 应用不同的响应模板或处理逻辑

**分析和日志记录** - 跟踪用户查询在各个类别中的分布

## 最佳实践

**清晰的类别界限** - 定义明确的、不重叠的类别，并提供具体的描述以提高分类准确性。

**合适的模型选择** - 根据分类复杂性选择模型。简单的二元分类适合速度较快的模型，而复杂的多类别分类可能需要更强大的模型。

**测试边缘案例** - 使用可能适合多个类别的模糊输入验证分类行为。

**使用对话上下文** - 为需要依赖先前交互的分类应用启用记忆。

**监控和迭代** - 审核分类结果并根据实际使用模式优化类别描述。
```