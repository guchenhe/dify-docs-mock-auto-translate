```mdx
---
title: "終了"
description: "ワークフローの出力と終了ポイントを定義する"
icon: "flag-checkered"
---

End ノードは、ワークフローが完了した際に何を出力するかを定義します。すべての工作流アプリケーションは、ユーザーに結果を返し、実行を終了するために少なくとも1つの End ノードが必要です。

<Info>
  End ノードは工作流アプリケーション専用です。对话流アプリケーションでは、会話の流れの中で応答を届けるために Answer ノードを使用します。
</Info>

## 出力設定

End ノードは、前の工作流ノードからの出力を収集し、それらを最終的な応答にまとめます。上流のノードからのデータを変数セレクターや `{{variable_name}}` 構文を使用して参照し、どの変数を出力するかを設定します。

テキスト、数字、オブジェクト、配列、ファイルなど、さまざまなタイプの複数の変数を出力することができます。各出力変数は、工作流の最終結果構造の一部となります。

## 単一ノードと複数ノード

### 単一パス工作流

1つの実行パスを持つシンプルな工作流には、最終結果をキャプチャするための1つの End ノードだけが必要です：

<Frame caption="1つの End ノードを持つ単一パス工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/9e43961344d318e09af8d64464d81774.png" alt="単一パス工作流の例" />
</Frame>

### 多路工作流

条件分岐を持つ工作流は、各実行パスに End ノードが必要です。各分岐は、工作流のロジックに応じて異なる変数を出力することができます：

<Frame caption="複数の End ノードを持つ多路工作流">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/3cb3f5fea376265bede0a4ac5bcc1ddc.png" alt="多路工作流の例" />
</Frame>

## 実行動作

工作流の実行が End ノードに到達すると、処理は即座に停止します。End ノードの後に接続されたノードは実行されません。これにより、End ノードは異なる工作流分岐の自然な終了ポイントになります。

もし工作流に複数の実行パスがある場合（例えば If-Else ノードを通じて）、各パスが End ノードに導かれるようにしてください。そうしないと、いくつかの実行分岐が結果を返さない可能性があります。

## 出力例

**テキスト処理結果** - 大規模言語モデルノードから処理されたテキスト、要約、または分析結果を出力します。

**構造化データ** - JSONオブジェクト、配列、またはさまざまな処理ノードから抽出されたパラメータを返します。

**ファイル出力** - ワークフロー実行中に生成された文書、画像、その他のファイルを提供します。

**ステータス情報** - 処理のメタデータ、成功指標、または診断情報を含めます。

<Frame caption="複雑な工作流出力の例">
  <img src="https://assets-docs.dify.ai/dify-enterprise-mintlify/en/guides/workflow/node/a103792790447c1725c1da1176334cae.png" alt="End ノード - 長編ストーリー生成の例" />
</Frame>

## ベストプラクティス

**一貫した出力構造** - 同じ工作流内の異なる End ノードで、予測可能なAPI応答のために類似した変数名とデータ型を使用します。

**ステータス情報を含める** - 主な結果に加えて、成功指標や処理のメタデータを出力することを検討してください。

**すべてのパスを処理する** - 工作流のすべての可能な実行パスが End ノードに導かれるようにして、不完全な実行を防ぎます。

**出力スキーマの文書化** - 各 End ノードがAPI利用者および統合目的のために何を返すかを明確に文書化します。
```

{/*
Contributing Section
DO NOT edit this section!
It will be automatically generated by the script.
*/}

---

[このページを編集する](https://github.com/langgenius/dify-docs/edit/main/ja-jp/documja-jptation/pages/nodes/ja-jpd.mdx) | [問題を報告する](https://github.com/langgenius/dify-docs/issues/new?template=docs.yml)

